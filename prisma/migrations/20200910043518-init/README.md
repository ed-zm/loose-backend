# Migration `20200910043518-init`

This migration has been generated by Eduardo Zarraga at 9/10/2020, 12:35:18 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "loose$dev"."Comment" DROP CONSTRAINT "Comment_task_fkey"

ALTER TABLE "loose$dev"."Comment" DROP CONSTRAINT "Comment_user_fkey"

ALTER TABLE "loose$dev"."Invite" DROP CONSTRAINT "Invite_from_fkey"

ALTER TABLE "loose$dev"."Invite" DROP CONSTRAINT "Invite_to_fkey"

ALTER TABLE "loose$dev"."Label" DROP CONSTRAINT "Label_organization_fkey"

ALTER TABLE "loose$dev"."Organization" DROP CONSTRAINT "Organization_owner_fkey"

ALTER TABLE "loose$dev"."ResponseRequest" DROP CONSTRAINT "ResponseRequest_assignedTo_fkey"

ALTER TABLE "loose$dev"."ResponseRequest" DROP CONSTRAINT "ResponseRequest_createdBy_fkey"

ALTER TABLE "loose$dev"."ResponseRequest" DROP CONSTRAINT "ResponseRequest_task_fkey"

ALTER TABLE "loose$dev"."Task" DROP CONSTRAINT "Task_assignedTo_fkey"

ALTER TABLE "loose$dev"."Task" DROP CONSTRAINT "Task_createdBy_fkey"

ALTER TABLE "loose$dev"."Task" DROP CONSTRAINT "Task_organization_fkey"

ALTER TABLE "loose$dev"."Task" DROP CONSTRAINT "Task_team_fkey"

ALTER TABLE "loose$dev"."Team" DROP CONSTRAINT "Team_organization_fkey"

ALTER TABLE "loose$dev"."_OrganizationUsers" DROP CONSTRAINT "_OrganizationUsers_A_fkey"

ALTER TABLE "loose$dev"."_OrganizationUsers" DROP CONSTRAINT "_OrganizationUsers_B_fkey"

ALTER TABLE "loose$dev"."_TaskLabels" DROP CONSTRAINT "_TaskLabels_A_fkey"

ALTER TABLE "loose$dev"."_TaskLabels" DROP CONSTRAINT "_TaskLabels_B_fkey"

ALTER TABLE "loose$dev"."_UserRoles" DROP CONSTRAINT "_UserRoles_A_fkey"

ALTER TABLE "loose$dev"."_UserRoles" DROP CONSTRAINT "_UserRoles_B_fkey"

ALTER TABLE "loose$dev"."_UserTeams" DROP CONSTRAINT "_UserTeams_A_fkey"

ALTER TABLE "loose$dev"."_UserTeams" DROP CONSTRAINT "_UserTeams_B_fkey"

DROP TABLE "loose$dev"."Comment"

DROP TABLE "loose$dev"."GithubCard"

DROP TABLE "loose$dev"."GithubColumn"

DROP TABLE "loose$dev"."GithubIssue"

DROP TABLE "loose$dev"."GithubOrganization"

DROP TABLE "loose$dev"."GithubProject"

DROP TABLE "loose$dev"."GithubRepository"

DROP TABLE "loose$dev"."Invite"

DROP TABLE "loose$dev"."Label"

DROP TABLE "loose$dev"."Organization"

DROP TABLE "loose$dev"."ResponseRequest"

DROP TABLE "loose$dev"."Role"

DROP TABLE "loose$dev"."Task"

DROP TABLE "loose$dev"."Team"

DROP TABLE "loose$dev"."_OrganizationUsers"

DROP TABLE "loose$dev"."_TaskLabels"

DROP TABLE "loose$dev"."_UserRoles"

DROP TABLE "loose$dev"."_UserTeams"

ALTER INDEX "loose$dev"."loose$dev.User.email._UNIQUE" RENAME TO "User.email_unique"

ALTER INDEX "loose$dev"."loose$dev.User.username._UNIQUE" RENAME TO "User.username_unique"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200910043518-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,33 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "postgresql"
+  url = "***"
+}
+
+model User {
+  idÂ String @default(cuid()) @id
+  username String @unique
+  firstName String
+  lastName String?
+  avatar String?
+  biography String?
+  email String @unique
+  emailVerifiedAt DateTime?
+  emailVerificationCode String?
+  emailVerificationCodeIssuedAt DateTime?
+  hash String
+  resetPasswordCode String?
+  resetPasswordCodeIssuedAt DateTime?
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  }
+
+enum PermissionEnum {
+  DELETE
+  READ
+  UPDATE
+  WRITE
+}
```


