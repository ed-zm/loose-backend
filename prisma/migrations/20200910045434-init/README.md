# Migration `20200910045434-init`

This migration has been generated by Eduardo Zarraga at 9/10/2020, 12:54:34 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "loose$dev"."Task" ADD COLUMN "createdById" text   NOT NULL ,
ADD COLUMN "assignedToId" text   

ALTER TABLE "loose$dev"."Task" ADD FOREIGN KEY ("createdById")REFERENCES "loose$dev"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "loose$dev"."Task" ADD FOREIGN KEY ("assignedToId")REFERENCES "loose$dev"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200910044912-init..20200910045434-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Organization {
   idÂ String @default(cuid()) @id
@@ -26,10 +26,12 @@
   title String
   description String?
   estimated Int @default(0)
   state Int? @default(value: 0)
-  // createdBy User @relation("TasksCreatedBy")
-  // assignedTo User? @relation("TasksAssignedTo")
+  createdBy User @relation("TasksCreatedBy", fields: [createdById], references: [id])
+  createdById String
+  assignedTo User? @relation("TasksAssignedTo", fields: [assignedToId], references: [id])
+  assignedToId String?
   organization Organization? @relation("OrganizationTasks", fields: [organizationId], references: [id])
   organizationId String?
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
@@ -51,8 +53,10 @@
   resetPasswordCode String?
   resetPasswordCodeIssuedAt DateTime?
   ownOrganizations Organization[] @relation("UserOrganizations")
   organizations Organization[] @relation("OrganizationUsers")
+  tasksCreated Task[] @relation("TasksCreatedBy")
+  tasksAssigned Task[] @relation("TasksAssignedTo")
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
   }
```


